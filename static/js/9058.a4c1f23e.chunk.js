"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[9058,8951],{78951:function(t,n,e){e.r(n),e.d(n,{EstimatedGasFees:function(){return p}});var i=e(7276),a=e(87099),o=e(86059),s=e(96699),r=e(3498),l=e(55967),c=e(49801),d=e(15542),u=e(23023),x=e(45263),p=function(){var t=(0,s.Fg)(),n=(0,c.Y)().chainToken,e=(0,u.R)().state,p=e.transactionSpeed,m=e.estimatedFees,f=e.estimatedFeesUsd,h=(0,i.useMemo)((function(){return m?m[p]:null}),[m,p]),g=(0,i.useMemo)((function(){return f?f[p]:null}),[f,p]);return(0,x.jsxs)(r.Ug,{spacing:1,width:"100%",alignItems:"center",children:[(0,x.jsx)(l.Qpb,{color:t.colors.ctaDisabled,size:24}),(0,x.jsx)(d.Translation,{translation:"trade.estimatedGasFee",suffix:":",textStyle:"captionSmaller"}),(0,x.jsx)(o.Amount.Usd,{textStyle:"captionSmaller",fontWeight:"600",color:"primary",prefix:a.EI,value:g}),g&&(0,x.jsx)(o.Amount,{textStyle:"captionSmaller",fontWeight:"600",color:"primary",prefix:"(",suffix:"".concat(null===n||void 0===n?void 0:n.symbol,")"),value:h,decimals:4})]})}},59058:function(t,n,e){e.r(n),e.d(n,{Unstake:function(){return j}});var i=e(74165),a=e(15861),o=e(82592),s=e(42828),r=e(33482),l=e(55967),c=e(49801),d=e(7276),u=e(43127),x=e(3498),p=e(15542),m=e(1669),f=e(23023),h=e(78951),g=e(4710),v=e(86393),k=e(75712),w=e(99594),S=e(45263),j=function(t){var n,e,j,y=t.itemIndex,C=t.chainIds,T=void 0===C?[]:C,E=(0,k.useAssetProvider)(),b=E.asset,M=E.vault,A=(0,c.Y)(),z=A.account,F=A.setChainId,W=A.checkChainEnabled,I=(0,g.useOperativeComponent)(),P=I.dispatch,U=I.activeItem,Z=I.setActionIndex,_=(0,m.w)(),D=_.stakingData,L=_.selectors.selectVaultPrice,Y=(0,f.R)(),G=Y.sendTransaction,N=Y.setGasLimit,O=Y.state.block,B=(0,d.useMemo)((function(){return W(T)}),[T,W]),H=(0,d.useMemo)((function(){var t;return(0,w.d5)(null===D||void 0===D||null===(t=D.position)||void 0===t?void 0:t.deposited)}),[D]),q=(0,d.useMemo)((function(){var t,n;return!(null===D||void 0===D||null===(t=D.position)||void 0===t||!t.lockEnd||!O)&&(0,w.qF)(null===D||void 0===D||null===(n=D.position)||void 0===n?void 0:n.lockEnd).isSameOrBefore((0,w.qF)(1e3*O.timestamp))}),[D,O]),K=(0,d.useMemo)((function(){var t,n;return null!==D&&void 0!==D&&null!==(t=D.position)&&void 0!==t&&t.lockEnd?(0,w.p6)(null===D||void 0===D||null===(n=D.position)||void 0===n?void 0:n.lockEnd,"YYYY-MM-DD HH:mm",!0):null}),[D]),R=(0,d.useCallback)((function(){z&&q&&M&&"getWithdrawContractSendMethod"in M&&"getWithdrawParams"in M&&M instanceof r.y&&(0,a.Z)((0,i.Z)().mark((function t(){var n,e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=M.getWithdrawParams(),e=M.getWithdrawContractSendMethod(n),G(M.id,M.id,e);case 3:case"end":return t.stop()}}),t)})))()}),[z,q,M,G]),Q=(0,d.useCallback)((0,a.Z)((0,i.Z)().mark((function t(){var n,e,a,o,s;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(M&&"getWithdrawContractSendMethod"in M&&"getWithdrawParams"in M&&M instanceof r.y){t.next=2;break}return t.abrupt("return");case 2:if(n=M.getMethodDefaultGasLimit("unstake"),z&&q){t.next=5;break}return t.abrupt("return",n);case 5:return e={from:null===z||void 0===z?void 0:z.address},a=M.getWithdrawParams(),o=M.getWithdrawContractSendMethod(a),t.next=10,(0,w.$K)(o,e);case 10:if(t.t0=t.sent,t.t0){t.next=13;break}t.t0=n;case 13:return s=t.t0,t.abrupt("return",s);case 15:case"end":return t.stop()}}),t)}))),[z,M,q]);(0,d.useEffect)((function(){U===y&&(0,a.Z)((0,i.Z)().mark((function t(){var n;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q();case 2:n=t.sent,N(n);case 4:case"end":return t.stop()}}),t)})))()}),[U,y,Q,N]),(0,d.useEffect)((function(){U===y&&(P({type:"SET_ASSET",payload:b}),L&&M&&(P({type:"SET_AMOUNT",payload:(0,w.gA)(H).toString()}),P({type:"SET_DEFAULT_AMOUNT",payload:(0,w.gA)(H).toString()})))}),[M,b,H,L,U,y,P,R]);var V=(0,d.useMemo)((function(){return z?(0,S.jsx)(p.Translation,{component:u.zx,translation:"common.withdraw",disabled:!q,onClick:R,variant:"ctaFull"}):(0,S.jsx)(v.ConnectWalletButton,{variant:"ctaFull"})}),[z,q,R]);return(0,S.jsx)(k.AssetProvider,{flex:1,width:"100%",assetId:null===b||void 0===b?void 0:b.id,children:(0,S.jsxs)(x.gC,{flex:1,spacing:6,width:"100%",height:"100%",id:"withdraw-container",alignItems:"space-between",justifyContent:"flex-start",pt:B&&null!==D&&void 0!==D&&null!==(n=D.position)&&void 0!==n&&n.lockEnd?8:0,children:[(0,S.jsx)(x.gC,{flex:1,spacing:0,id:"confirm-on-wallet",alignItems:"flex-start",children:B?null!==D&&void 0!==D&&null!==(e=D.position)&&void 0!==e&&e.lockEnd?q?(0,S.jsx)(x.M5,{py:14,flex:1,px:[4,10],width:"100%",children:(0,S.jsxs)(x.gC,{spacing:6,children:[(0,S.jsx)(l.ppH,{size:72}),(0,S.jsxs)(x.gC,{spacing:4,children:[(0,S.jsx)(p.Translation,{component:x.xv,translation:"staking.lockExpired",textStyle:"heading",fontSize:"h3",textAlign:"center"}),(0,S.jsx)(p.Translation,{component:x.xv,translation:"staking.canWithdrawLock",params:{amount:(0,w.dm)(H),asset:null===b||void 0===b?void 0:b.name},textStyle:"captionSmall",textAlign:"center"})]})]})}):(0,S.jsxs)(x.gC,{py:20,flex:1,spacing:6,px:[6,10],width:"100%",children:[(0,S.jsx)(l.FKe,{size:72}),(0,S.jsxs)(x.gC,{spacing:4,children:[(0,S.jsx)(p.Translation,{component:x.xv,translation:"staking.lockNotExpired",textStyle:"heading",fontSize:"h3",textAlign:"center"}),(0,S.jsx)(p.Translation,{component:x.xv,translation:"staking.waitUntilLockExpired",params:{lockEndDate:K},textStyle:"captionSmall",textAlign:"center"}),(0,S.jsx)(p.Translation,{component:u.zx,translation:"staking.increaseLock",onClick:function(){return Z(0)},variant:"ctaPrimary",px:10})]})]}):(0,S.jsx)(x.M5,{px:6,flex:1,width:"100%",children:(0,S.jsxs)(x.gC,{spacing:5,children:[(0,S.jsx)(p.Translation,{component:x.xv,translation:"staking.noStake",textStyle:"heading",fontSize:"h3",textAlign:"center"}),(0,S.jsx)(p.Translation,{component:x.xv,translation:"staking.stakeBeforeUnstake",textStyle:"captionSmall",textAlign:"center"}),(0,S.jsx)(p.Translation,{component:u.zx,translation:"common.stake",onClick:function(){return Z(0)},variant:"ctaPrimary",px:10})]})}):(0,S.jsx)(x.M5,{px:10,flex:1,width:"100%",children:(0,S.jsxs)(x.gC,{spacing:6,children:[(0,S.jsx)(s.p8b,{size:72}),(0,S.jsxs)(x.gC,{spacing:4,children:[(0,S.jsx)(p.Translation,{component:x.xv,translation:"staking.networkNotSupported",textStyle:"heading",fontSize:"h3",textAlign:"center"}),(0,S.jsx)(p.Translation,{component:x.xv,translation:"staking.switchToMainnet",textStyle:"captionSmall",textAlign:"center"}),(0,S.jsx)(p.Translation,{component:u.zx,translation:"common.switchNetwork",onClick:function(){return F(o.zS)},variant:"ctaPrimary",px:10})]})]})})}),(null===D||void 0===D||null===(j=D.position)||void 0===j?void 0:j.lockEnd)&&q&&(0,S.jsxs)(x.gC,{spacing:4,id:"footer",alignItems:"flex-start",children:[q&&(0,S.jsx)(h.EstimatedGasFees,{}),V]})]})})}}}]);